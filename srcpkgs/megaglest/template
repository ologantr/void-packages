# Template file for 'megaglest'
pkgname=megaglest
version=3.13.0
revision=1
build_style=cmake
configure_args="-Wno-dev"
hostmakedepends="pkg-config"
makedepends="libcurl-devel SDL2-devel libopenal-devel lua54-devel
libjpeg-turbo-devel libpng-devel freetype-devel
fontconfig-devel glew-devel wxWidgets-devel libxml2-devel
libircclient-devel miniupnpc-devel ftgl-devel
glu-devel libvorbis-devel fribidi-devel libglib-devel"
depends="megaglest-data"
short_desc="Fork of Glest, a 3D real-time strategy game in a fantastic world"
maintainer="ologantr <mrphyber@protonmail.com>"
license="GPL-3.0-or-later"
homepage="https://megaglest.org"
distfiles="https://github.com/MegaGlest/megaglest-source/releases/download/${version}/megaglest-source-${version}.tar.xz"
checksum=09fef67bc6878b1afbb0b403fec9fcf7dc270d500fdc62ed98e5f210e398ccb9

if [ "$XBPS_TARGET_LIBC" = musl ]; then
	makedepends+=" libexecinfo-devel"
	export LDLIBS="-lexecinfo"
fi
